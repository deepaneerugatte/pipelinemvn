node{
stage('SCM'){
git 'https://github.com/deepaneerugatte/pipelinemvn.git'
}
stage('building artifact'){
  def mvn=tool name: 'MAVEN_HOME', type: 'maven'
  sh "${mvn}/bin/mvn package"
}
stage('nexus arrtifact uploading to server')
{
nexusArtifactUploader artifacts: [[artifactId: 'webapplication', classifier: '',
file: 'webapplication/target/webapplication.war', type: 'war']], 
credentialsId: 'nexus', groupId: 'firstproject', 
nexusUrl: 'http://192.168.0.169:8081/', 
nexusVersion: 'nexus3', 
protocol: 'http', repository: 
'host-snapshot', 
version: '1.0-SNAPSHOT'
}
}
